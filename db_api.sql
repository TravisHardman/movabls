-- phpMyAdmin SQL Dump
-- version 3.1.2deb1ubuntu0.1
-- http://www.phpmyadmin.net
--
-- Host: localhost
-- Generation Time: Sep 19, 2009 at 08:36 AM
-- Server version: 5.0.75
-- PHP Version: 5.2.6-3ubuntu4.1

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: `db_api`
--

-- --------------------------------------------------------

--
-- Table structure for table `mvs_functions`
--

CREATE TABLE IF NOT EXISTS `mvs_functions` (
  `function_id` int(11) NOT NULL auto_increment,
  `function_GUID` varchar(512) NOT NULL,
  `inputs` text NOT NULL,
  `content` text NOT NULL,
  PRIMARY KEY  (`function_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 AUTO_INCREMENT=19 ;

--
-- Dumping data for table `mvs_functions`
--

INSERT INTO `mvs_functions` (`function_id`, `function_GUID`, `inputs`, `content`) VALUES
(1, 'NESTED_FUNCTION', '["tentimes"]', '/*$return = '''';\r\nfor($i=1;$i<=10;$i++) {\r\n    $return .= $tentimes;\r\n}*/\r\n$return=Movabls::List_Apps("foo");\r\n\r\nreturn $return;'),
(2, 'triplefunction', '', 'return "triplefunction";'),
(3, 'placeList', '', '$link = mysqli_connect(''localhost'',''root'',''h4ppyf4rmers'',''db_ribeye'');\r\n\r\nif (mysqli_connect_errno()) {\r\n    printf("Connect failed: %s\\n", mysqli_connect_error());\r\n    exit();\r\n}\r\n\r\n$query = "SELECT * FROM `mvs_places`";\r\n$result = mysqli_query($link, $query);\r\n\r\n\r\n\r\nif ($result = mysqli_query($link, $query)) {\r\n\r\n    while ($row = mysqli_fetch_array($result, MYSQLI_ASSOC) ) \r\n        $resultsAr[]=$row;\r\n    \r\n\r\n    mysqli_free_result($result);\r\n}\r\n\r\n\r\n\r\nreturn $resultsAr;\r\n'),
(4, 'GLOBALS', '', 'return $GLOBALS->GLOBALS["HTTP_SERVER_VARS"];'),
(5, 'getJS', '', '\r\n$library=substr($GLOBALS->GLOBALS["HTTP_SERVER_VARS"]["REQUEST_URI"],6);\r\n\r\n\r\n\r\n$link = mysqli_connect(''localhost'',''root'',''h4ppyf4rmers'',''db_ribeye'');\r\n\r\nif (mysqli_connect_errno()) {\r\n    printf("Connect failed: %s\\n", mysqli_connect_error());\r\n    exit();\r\n}\r\n\r\n$query = "SELECT * FROM `js` WHERE library=''$library''";\r\n$result = mysqli_query($link, $query);\r\n\r\n\r\n\r\nif ($result = mysqli_query($link, $query)) {\r\n\r\n    while ($row = mysqli_fetch_array($result, MYSQLI_ASSOC) ) \r\n        $resultsAr[]=$row;\r\n    \r\n\r\n    mysqli_free_result($result);\r\n}\r\n\r\nreturn $resultsAr;\r\n\r\n'),
(6, 'getCSS', '', 'sa"dsafgomasdf /'' \\\\]sadf\\"as fdasdf'' ''sdfaf'),
(18, 'SitemapGenerator', '["PlacesAPI"]', '$ContainerPlaces = Array();\n$PlacesByPackage = Array();\n$PlacesByLevel = Array();\n$UniqueLevels = Array();\n$PlacesInOrder = Array();\n\nglobal $ContainerPlaces, $PlacesByLevel;\nforeach ($PlacesAPI as $place_id=>$place){\n	$PlacesByPackage[$place["app_GUID"]][$place_id]=$place;\n	if (isset($place["parent"]) && ( $place["parent"] != $place_id)  ) $ContainerPlaces[$place["parent"]][$place_id]=$place;\n}\n\nforeach ($PlacesAPI as $place_id=>$place){\n	if (!isset($PlacesByLevel[$place_id])) $PlacesByLevel[$place_id]=1;\n\n	foreach ($ContainerPlaces as $container_id=>$container)\n		if ($place_id == $container_id)\n			$PlacesByLevel[$place_id]=	$PlacesByLevel[$place_id]+$PlacesByLevel[$place_id];\n}\n\n\nforeach ($PlacesAPI as $place_id=>$place){\n	if (!isset($PlacesByLevel[$place_id])) $PlacesByLevel[$place_id]=1;\n	\n	foreach ($ContainerPlaces as $container_id=>$container)\n		foreach ($container as $sub_place_id=>$sub_place)\n			if ($place_id == $sub_place_id) $PlacesByLevel[$place_id]=	$PlacesByLevel[$place_id]+$PlacesByLevel[$container_id];\n}\n\n\n\n\nforeach ($PlacesByLevel as $place_id=>$level){\n	if ($level===1) unset($PlacesByLevel[$place_id]);\n		elseif ($level==2)  $PlacesByLevel[$place_id] = 0;\n		else $PlacesByLevel[$place_id] = $PlacesByLevel[$place_id]-3;\n\n	$PlacesAPI[$place_id]["level"]=$PlacesByLevel[$place_id];\n	\n	if (!in_array($place_id, $UniqueLevels ) && (($PlacesByLevel[$place_id]!="")||($PlacesByLevel[$place_id]===0)) ) \n		$UniqueLevels[$PlacesByLevel[$place_id]][]=$place_id;\n}\n\nsort($UniqueLevels); \n$count=0;\nforeach ($PlacesByLevel as $PlacesByLevel_id=>$level){\n$PlacesByLevelNumbered[$count]["id"]=$PlacesByLevel_id;\n$PlacesByLevelNumbered[$count]["level"]=$level;\n$count++;\n}\n\nforeach ($PlacesByLevelNumbered as $PlaceByLevel_id=>$PlaceByLevel){\n\n  if (!isset($prev_place_id)) $PlacesInOrder[$PlaceByLevel["id"]]="open";\n	else if (isset($ContainerPlaces[$PlacesInOrder[$prev_place_id]]) && isset($ContainerPlaces[$PlacesInOrder[$prev_place_id]][$PlaceByLevel["id"]])) $PlacesInOrder[$PlaceByLevel["id"]]="open";\n	else if (!isset($ContainerPlaces[$PlacesInOrder[$prev_place_id]][$PlaceByLevel["id"]])) $PlacesInOrder[$PlaceByLevel["id"]]="child";\n/*\nif (!isset($PlacesByLevelNumbered[$PlaceByLevel_id+1]) || ($PlaceByLevel["level"]!= $PlacesByLevelNumbered[$PlaceByLevel_id+1]["level"]) ) $PlacesInOrder[$PlaceByLevel["id"]]="close";\n\n */\n $prev_place_id=$PlaceByLevel["id"];\n	}\n\n	\n	\n	/* \n foreach ($PlacesByLevel as $PlacesByLevel_id=>$level){\n\n if (!isset($parent_place)) {\n $PlacesInOrder[$PlacesByLevel_id]=$PlacesByLevel_id;\n $parent_place=$PlacesByLevel_id;\n\n }	elseif (isset($ContainerPlaces[$parent_place]) && isset($ContainerPlaces[$parent_place][$PlacesByLevel_id])) {\n	$PlacesInOrder[$PlacesByLevel_id]=$parent_place;\n}else{\n	//$PlacesInOrder[$PlacesByLevel_id]=$PlacesByLevel_id;\n//	$parent_place=$PlacesByLevel_id;\n}\n	\n	}\n if (!isset($prev_place)) $PlacesInOrder[$PlacesByLevel_id]=$PlacesByLevel_id;\n else if($PlacesByLevel[$prev_place]==$level-1) $PlacesInOrder[$PlacesByLevel_id]=$prev_place;\n else if ($PlacesInOrder[$prev_place]===$prev_place)$PlacesInOrder[$PlacesByLevel_id]=$prev_place;\n else $PlacesInOrder[$PlacesByLevel_id]=$prev_place;\n\n\n 	$prev_place=$PlacesByLevel_id;\nif (isset($prev_place) && (($PlacesByLevel[$prev_place]!=0)&&($PlacesByLevel[$prev_place]==$level-1) ))\n\n\n\n	if (isset($prev_place) && (($PlacesByLevel[$prev_place]!=0)&&($PlacesByLevel[$prev_place]==$level-1) )) $PlacesInOrder[$PlacesByLevel_id]=$last_parent;\n		else $PlacesInOrder[$PlacesByLevel_id]=$PlacesByLevel_id;\n	if ($PlacesInOrder[$PlacesByLevel_id]!=$PlacesByLevel_id) $last_parent=$PlacesByLevel_id;\n		$prev_place=$PlacesByLevel_id;\n\n\n	if (isset($prev_place) && (($PlacesByLevel[$prev_place]!=0)&&($PlacesByLevel[$prev_place]==$level-1) )) $PlacesInOrder[$PlacesByLevel_id]=$last_parent;\n		else $PlacesInOrder[$PlacesByLevel_id]=$PlacesByLevel_id;\n	if ($PlacesInOrder[$PlacesByLevel_id]!=$PlacesByLevel_id) $last_parent=$PlacesByLevel_id;\n		$prev_place=$PlacesByLevel_id;\n\n}\n*/\n\nforeach ($UniqueLevels as $level_id=>$place_ar )\n	foreach ($place_ar as $parent_id)\n		if (isset($UniqueLevels[$level_id+1]) )\n			foreach ($UniqueLevels[$level_id+1] as $child_id)\n					$PlacesAPI[$child_id]["parents"][]=$parent_id;\n				\n\n\nreturn Array("Places"=>$PlacesAPI,"ContainerPlaces"=>$ContainerPlaces,"PlacesByPackage"=>$PlacesByPackage, "PlacesByLevelNumbered"=>$PlacesByLevelNumbered,"PlacesByLevel"=>$PlacesByLevel,  "PlacesInOrder"=>$PlacesInOrder, "UniqueLevels"=>$UniqueLevels );');

-- --------------------------------------------------------

--
-- Table structure for table `mvs_interfaces`
--

CREATE TABLE IF NOT EXISTS `mvs_interfaces` (
  `interface_id` int(11) NOT NULL auto_increment,
  `interface_GUID` varchar(512) character set utf8 collate utf8_unicode_ci NOT NULL,
  `content` text character set utf8 collate utf8_unicode_ci NOT NULL,
  PRIMARY KEY  (`interface_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC AUTO_INCREMENT=20 ;

--
-- Dumping data for table `mvs_interfaces`
--

INSERT INTO `mvs_interfaces` (`interface_id`, `interface_GUID`, `content`) VALUES
(1, 'TEST_INT', '{"mytag":{"movabl_GUID":"NESTED_MEDIA","movabl_type":"media","tags":{"footag":{"movabl_GUID":"FOO_MEDIA","movabl_type":"media"}}},"othertag":{"toplevel_tag":"mytag"},"functiontag":{"movabl_GUID":"NESTED_FUNCTION","movabl_type":"function","tags":{"tentimes":{"movabl_GUID":"FOO_MEDIA","movabl_type":"media"}}}}'),
(2, 'tripleslashintguid', '{"tripletag":{"movabl_GUID":"FOO_MEDIA","movabl_type":"media"},"tripletag2":{"movabl_GUID":"triplefunction","movabl_type":"function"}}'),
(3, 'excite_interface', '{"placeList":{"movabl_GUID":"placeList","movabl_type":"function"},"GLOBALS":{"movabl_GUID":"GLOBALS","movabl_type":"function"}}'),
(4, 'JSLOOKUP', '{"JS":{"movabl_GUID":"getJS","movabl_type":"function"}}'),
(5, 'CSSLOOKUP', '{"CSS":{"movabl_GUID":"getCSS","movabl_type":"function"}}'),
(7, 'place', '{\r\n"Place":\r\n	{\r\n	"expression":"Movabls::Get_Place();"\r\n	},\r\n"APIPlaces_Pattern":\r\n	{\r\n	"movabl_GUID":"APIPlaces_Pattern",\r\n	"movabl_type":"media",\r\n	"tags":\r\n		{\r\n		"Places":\r\n			{\r\n			"expression":"Movabls::Get_Places();"\r\n			}\r\n		}\r\n	}\r\n}'),
(8, 'api', '{\n"Applications":\n	{\n	"expression":"Movabls::Get_Apps();"\n	},\n"PlaceArrays":\n	{\n	"movabl_GUID":"SitemapGenerator",\n	"movabl_type":"function",\n	"tags":\n		{\n		"PlacesAPI":\n			{\n			"expression":"Movabls::Get_Places();"\n			}\n		}\n	},\n"Movabls":\n	{\n	"expression":"Movabls::Get_Movabls('''');"\n	},\n"Place":\n	{\n	"expression":"Movabls::Get_Place();"\n	},\n"Media":\n	{\n	"expression":"Movabls::Get_Media();"\n	},\n"Function":\n	{\n	"expression":"Movabls::Get_Function();"\n	},\n"Interface":\n	{\n	"expression":"Movabls::Get_Interface();"\n	}\n	\n}'),
(9, 'media', '{\r\n"Media":\r\n	{\r\n	"expression":"Movabls::Get_Media();"\r\n	},\r\n	\r\n"APISiteLibrary_Pattern":\r\n	{\r\n	"movabl_GUID":"APISiteLibrary_Pattern",\r\n	"movabl_type":"media",\r\n	"tags":\r\n		{\r\n		"Movabls":\r\n			{\r\n			"expression":"Movabls::Get_Movabls(''media'');"\r\n			}\r\n		}\r\n	}\r\n}'),
(10, 'function', '{\r\n"Function":\r\n	{\r\n	"expression":"Movabls::Get_Function();"\r\n	},\r\n"APISiteLibrary_Pattern":\r\n	{\r\n	"movabl_GUID":"APISiteLibrary_Pattern",\r\n	"movabl_type":"media",\r\n	"tags":\r\n		{\r\n		"Movabls":\r\n			{\r\n			"expression":"Movabls::Get_Movabls(''media'');"\r\n			}\r\n		}\r\n	}\r\n}'),
(11, 'interface', '{\r\n"Interface":\r\n	{\r\n	"expression":"Movabls::Get_Interface();"\r\n	},\r\n	\r\n"APISiteLibrary_Pattern":\r\n	{\r\n	"movabl_GUID":"APISiteLibrary_Pattern",\r\n	"movabl_type":"media",\r\n	"tags":\r\n		{\r\n		"Movabls":\r\n			{\r\n			"expression":"Movabls::Get_Movabls(''interface'');"\r\n			}\r\n		}\r\n	}\r\n}'),
(12, 'patterns', '{\r\n"APIApps_Pattern":\r\n	{\r\n	"movabl_GUID":"APIApps_Pattern",\r\n	"movabl_type":"media",\r\n	"tags":\r\n		{\r\n		"Applications":\r\n			{\r\n			"expression":"Movabls::Get_Apps();"\r\n			}\r\n		}\r\n	},\r\n"APIPlaces_Pattern":\r\n	{\r\n	"movabl_GUID":"APIPlaces_Pattern",\r\n	"movabl_type":"media",\r\n	"tags":\r\n		{\r\n		"Places":\r\n			{\r\n			"expression":"Movabls::Get_Places();"\r\n			}\r\n		}\r\n	},\r\n"APISiteLibrary_Pattern":\r\n	{\r\n	"movabl_GUID":"APISiteLibrary_Pattern",\r\n	"movabl_type":"media",\r\n	"tags":\r\n		{\r\n		"Movabls":\r\n			{\r\n			"expression":"Movabls::Get_Movabls('''');"\r\n			}\r\n		}\r\n	}\r\n}'),
(16, 'Set_Media', '{\r\n"SetMedia":\r\n	{\r\n	"expression":"Movabls::Set_Media();"\r\n	}\r\n}'),
(17, 'Set_Interface', '{\r\n"Set_Interface":\r\n	{\r\n	"expression":"Movabls::Set_Interface();"\r\n	}\r\n}'),
(18, 'Set_Function', '{\r\n"Set_Function":\r\n	{\r\n	"expression":"Movabls::Set_Function();"\r\n	}\r\n}'),
(19, 'launchpad', '{\r\n"SiteName":\r\n	{\r\n	"expression":"$GLOBALS->_SERVER[''HTTP_HOST'']"\r\n	},\r\n"Sitemapper":\r\n	{\r\n	"movabl_GUID":"Sitemapper",\r\n	"movabl_type":"media",\r\n	"tags":\r\n		{\r\n		"Places":\r\n			{\r\n			"movabl_GUID":"SitemapGenerator",\r\n			"movabl_type":"function",\r\n			"tags":\r\n				{\r\n				"PlacesAPI":\r\n					{\r\n					"expression":" Movabls::Get_Places();"\r\n					}\r\n				}\r\n			},\r\n		"SiteName":\r\n			{\r\n			"toplevel_tag":"SiteName"\r\n			}\r\n		}\r\n	},\r\n"Media":\r\n	{\r\n	"movabl_GUID":"APISiteLibrary_Pattern",\r\n	"movabl_type":"media",\r\n	"tags":\r\n		{\r\n		"Movabls":\r\n			{\r\n			"expression":"Movabls::Get_Movabls('''');"\r\n			}\r\n		}\r\n	}\r\n}');

-- --------------------------------------------------------

--
-- Table structure for table `mvs_media`
--

CREATE TABLE IF NOT EXISTS `mvs_media` (
  `media_id` int(11) NOT NULL auto_increment,
  `media_GUID` varchar(512) character set utf8 collate utf8_unicode_ci NOT NULL,
  `mimetype` varchar(512) character set utf8 collate utf8_unicode_ci NOT NULL,
  `inputs` text character set utf8 collate utf8_unicode_ci NOT NULL,
  `content` longtext NOT NULL,
  PRIMARY KEY  (`media_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC AUTO_INCREMENT=45 ;

--
-- Dumping data for table `mvs_media`
--

INSERT INTO `mvs_media` (`media_id`, `media_GUID`, `mimetype`, `inputs`, `content`) VALUES
(1, 'TEST_MEDIA', 'text/html', '["mytag","functiontag","othertag"]', '%foo%bar\n<?\necho "ADa";\n?>\n<br>\nmytag: {{mytag}}<br>\nfunctiontag: {{functiontag}}<br>\nothertag: {{othertag}}<br>\n\n\n<a href="http://ribeye.derring-do.org/bin">http://ribeye.derring-do.org/bin</a>\n\n!!!'),
(37, 'Set_Media', 'text/plain', '["SetMedia"]', ' {{SetMedia}}'),
(14, 'place', 'text/html', '["Place","APIPlaces_Pattern"]', '<html>\r\n\r\n<script src="http://api.derring-do.org///~/base.js"></script> \r\n\r\n\r\n<style>\r\n\r\nbody{font-family:sans-serif;}\r\na{text-decoration:none;}\r\n\r\n\r\n#content{display:block; position:absolute; top:10%; left:20px; width:60%; height:70%; overflow:auto;}\r\n.APIPlaces_Pattern{display:block; position:absolute; top:10%; left:62%; width:38%; height:85%;overflow:auto;}\r\n\r\n\r\n</style>\r\n<body>\r\n{{Place["label"]}}\r\n<h3>{{Place["url"]}} ({{Place["place_GUID"]}})</h3>\r\n\r\nmedia: <input type="text" value="{{Place["media_GUID"]}}"><br>\r\ninterface: <input type="text" value="{{Place["interface_GUID"]}}"><br>\r\n\r\n{{APIPlaces_Pattern}}\r\n</body>\r\n</html>'),
(15, 'Slash404', 'text/html', '', 'Sorry, nothing to see here.'),
(16, 'api', 'text/html', '["Applications","PlaceArrays","Movabls","Place", "Media", "Function", "Interface"]', '<h3>Movabls API</h3>\nApplications:\n<pre>\n{{Applications}}\n</pre>\n<br><br>\nPlaceArrays:\n<pre>\n{{PlaceArrays}}\n</pre>\n<br><br>\nMovabls:\n<pre>\n{{Movabls}}\n</pre>\n<br><br>\nPlace:\n<pre>\n{{Place}}\n</pre>\n<br><br>\nMedia:\n<pre>\n{{Media}}\n</pre>\n<br><br>\nFunction:\n<pre>\n{{Function}}\n</pre>\n<br><br>\nInterface:\n<pre>\n{{Interface}}\n</pre>'),
(17, 'media', 'text/html', '["Media", "APISiteLibrary_Pattern"]', '<html>\r\n<script>\r\nrequestInProgress=0\r\n</script>\r\n\r\n<script src="http://api.derring-do.org///~/base.js"></script> \r\n\r\n\r\n<style>\r\n\r\nbody{font-family:sans-serif;}\r\na{text-decoration:none;}\r\n\r\n\r\n#content{display:block; position:absolute; top:10%; left:20px; width:60%; height:70%; overflow:auto;}\r\n#status{position:absolute; bottom:3%; left:35%}\r\n#cta{position:absolute; bottom:3%; right:40%}\r\n.APISiteLibrary_Pattern{display:block; position:absolute; top:10%; left:62%; width:38%; height:85%;overflow:auto;}\r\n\r\n.APISiteLibrary_Pattern #media{display:block;}\r\n.APISiteLibrary_Pattern #function{display:block;}\r\n.APISiteLibrary_Pattern #interface{display:block;}\r\n\r\n</style>\r\n<body>\r\n<h3>{{Media["label"]}} ({{Media["media_GUID"]}})</h3>\r\n<form id="createUnitForm" name="createUnitForm">\r\n<textarea name="content" id="content">\r\n{{Media["content"]}}\r\n</textarea>\r\n<br>\r\n<span id="status"></span>\r\n<a href="javascript:void(0);" onclick="doRequest(''http://api.derring-do.org///~/Set/Media/{{Media["media_GUID"]}}'',''status'',''createUnitForm'','''')" id="cta" >setMedia</a> \r\n\r\n</form>\r\n\r\n{{APISiteLibrary_Pattern}}\r\n</body>\r\n</html>'),
(18, 'function', 'text/html', '["Function","APISiteLibrary_Pattern"]', '<html>\r\n<script>\r\nrequestInProgress=0\r\n</script>\r\n\r\n<script src="http://api.derring-do.org///~/base.js"></script> \r\n\r\n\r\n<style>\r\n\r\nbody{font-family:sans-serif;}\r\na{text-decoration:none;}\r\n\r\n\r\n#content{display:block; position:absolute; top:10%; left:20px; width:60%; height:70%; overflow:auto;}\r\n#statusFunc{position:absolute; bottom:3%; left:35%}\r\n#cta{position:absolute; bottom:3%; right:40%}\r\n.APISiteLibrary_Pattern{display:block; position:absolute; top:10%; left:62%; width:38%; height:85%;overflow:auto;}\r\n\r\n.APISiteLibrary_Pattern #media{display:block;}\r\n.APISiteLibrary_Pattern #function{display:block;}\r\n.APISiteLibrary_Pattern #interface{display:block;}\r\n\r\n</style>\r\n<body>\r\n<h3>{{Function["label"]}} ({{Function["function_GUID"]}})</h3>\r\n\r\n<form id="createUnitFormasdf" name="createUnitFormasdf">\r\n<textarea name="content" id="content">\r\n{{Function["content"]}}\r\n</textarea>\r\n<br>\r\n<span id="statusFunc"></span>\r\n<a href="javascript:void(0);" onclick="doRequest(''http://api.derring-do.org///~/Set/Function/{{Function["function_GUID"]}}'',''statusFunc'',''createUnitFormasdf'','''')" id="cta" >setFunction</a> \r\n\r\n</form>\r\n\r\n\r\n{{APISiteLibrary_Pattern}}\r\n</body>\r\n</html>'),
(19, 'interface', 'text/html', '["Interface","APISiteLibrary_Pattern"]', '<html>\r\n<script>\r\nrequestInProgress=0\r\n</script>\r\n\r\n<script src="http://api.derring-do.org///~/base.js"></script> \r\n\r\n\r\n<style>\r\n\r\nbody{font-family:sans-serif;}\r\na{text-decoration:none;}\r\n\r\n\r\n#content{display:block; position:absolute; top:10%; left:20px; width:60%; height:70%; overflow:auto;}\r\n#statusInt{position:absolute; bottom:3%; left:35%}\r\n#cta{position:absolute; bottom:3%; right:40%}\r\n.APISiteLibrary_Pattern{display:block; position:absolute; top:10%; left:62%; width:38%; height:85%;overflow:auto;}\r\n\r\n.APISiteLibrary_Pattern #media{display:block;}\r\n.APISiteLibrary_Pattern #function{display:block;}\r\n.APISiteLibrary_Pattern #interface{display:block;}\r\n\r\n</style>\r\n<body>\r\n<h3>{{Interface["label"]}} ({{Interface["interface_GUID"]}})</h3>\r\n\r\n<form id="createUnitFormInterface" name="createUnitFormInterface">\r\n<textarea name="content" id="content">\r\n{{Interface["content"]}}\r\n</textarea>\r\n<br>\r\n<span id="statusInt"></span>\r\n<a href="javascript:void(0);" onclick="doRequest(''http://api.derring-do.org///~/Set/Interface/{{Interface["interface_GUID"]}}'',''statusInt'',''createUnitFormInterface'','''')" id="cta" >setInterface</a> \r\n\r\n{{APISiteLibrary_Pattern}}\r\n</body>\r\n</html>'),
(36, 'app', 'text/html', '["APIPlaces_Pattern","APISiteLibrary_Pattern"]', '<html>\r\n\r\n<script src="http://api.derring-do.org///~/base.js"></script> \r\n\r\n\r\n<style>\r\n\r\nbody{font-family:sans-serif;}\r\na{text-decoration:none;}\r\n\r\n.APIPlaces_Pattern{display:block; position:absolute; top:17%; left:20px; width:60%; height:60%; overflow:auto;}\r\n.APISiteLibrary_Pattern{display:block; position:absolute; top:10%; left:62%; width:38%; height:85%;overflow:auto;}\r\n\r\n.APIApps_Pattern span {display:block; position:relative; float:left; height:45px; width:45px; text-align:center;}\r\n\r\n.APISiteLibrary_Pattern #media{display:block;}\r\n.APISiteLibrary_Pattern #function{display:block;}\r\n.APISiteLibrary_Pattern #interface{display:block;}\r\n\r\n</style>\r\n<body>\r\n<h3>app details</h3>\r\n{{APIPlaces_Pattern}}\r\n\r\n{{APISiteLibrary_Pattern}}\r\n</body>\r\n</html>'),
(20, 'patterns', 'text/html', '["APIApps_Pattern","APIPlaces_Pattern","APISiteLibrary_Pattern"]', '<h3>Movabls API Patterns</h3>\nAPIApps_Pattern<br>\n{{APIApps_Pattern}}\n<br><br>\nAPIPlaces_Pattern<br>\n{{APIPlaces_Pattern}}\n<br><br>\nAPISiteLibrary_Pattern<br>\n{{APISiteLibrary_Pattern}}\n'),
(25, 'APIApps_Pattern', 'text/html', '["Applications"]', '<div class="APIApps_Pattern">\r\n{{for Applications as app_id:app}}\r\n<span><a href="javascript:void(0);" onclick="parent.openDoc(''http://api.derring-do.org///~/app/{{app_id}}'', ''{{app["label"]}}'') "><img src="{{app["icon"]}}"></a>\r\n<br>\r\n<a href="javascript:void(0);" onclick="parent.openDoc(''http://api.derring-do.org///~/app/{{app_id}}'', ''{{app["label"]}}'') ">{{app["label"]}}</a></span>\r\n{{endfor}}\r\n</div>\r\n'),
(21, 'APIPlaces_Pattern', 'text/html', '["Places"]', '<div class="APIPlaces_Pattern">\r\n<table>\r\n<tr><td>Application</td><td>Label</td><td>URL</td></tr>\r\n<br>\r\n{{for Places as place_id:place}}\r\n<tr><td>{{place["app_name"]}}</td><td><a href="javascript:void(0);" onclick="parent.openDoc(''http://api.derring-do.org///~/Place/{{place_id}}'', ''{{place["url"]}}'') ">{{place["label"]}}</a></td><td><a href="javascript:void(0);" onclick="parent.openDoc(''http://api.derring-do.org///~/Place/{{place_id}}'', ''{{place["url"]}}'') ">{{place["url"]}}</a></td></tr>\r\n{{endfor}}\r\n</table>\r\n</div>\r\n'),
(22, 'APISiteLibrary_Pattern', 'text/html', '["Movabls"]', '<div class="APISiteLibrary_Pattern">\n{{for Movabls as movabl_type:set}}\n<div id="{{movabl_type}}">\n<b>{{movabl_type}}</b><br>\n<ul class="category">\n{{for set as movabl_id:movabl}}\n\n<li class="{{movabl_type}}"><a href="javascript:void(0);" onclick="parent.openDoc(''http://api.derring-do.org///~/{{movabl_type}}/{{movabl_id}}'', ''{{movabl["label"]}}'') ">\n{{movabl["label"]}}</a></li>\n\n{{endfor}}\n</ul>\n</div>\n{{endfor}}\n\n</div>'),
(26, 'tabs', 'text/html', '', '<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> \n<html> \n<head> \n	<title>Movabls</title> \n\n<link rel="stylesheet" type="text/css" href="http://api.derring-do.org///~/tabs.css"> \n<script src="http://api.derring-do.org///~/base.js"></script> \n<script src="http://api.derring-do.org///~/tabs.js"></script> \n\n</head> \n \n<body> \n \n \n<!-- tab bar/header:\n  movabl_anchor - the /// thing - it returns to the base document as defined in the iframe src\n  actionsList - the dropdown of available commands.  a <ul> using showOverflow & hideOverflow()  \n  cont0 - the template tab that''s cloned in openDoc\n  tray - the main tab well including the overflow dropdown\n  tabs - the specific div where tabs live, not including the overflow well\n  -->\n<div id="header">\n<span style="display:none"><span id="cont0"><a href="javascript:void(0);" onclick="closeDoc(this.id)"  id="cls0" class="closeTab" style="width:20px; padding:3px;" >X</a></span></span><div id="tray"><div id="tabs_bar"><a href="javascript:void(0);" onclick="switchDoc(this.id)" id="tab0" class="activeTab" onfocus="this.blur()" ><img src="http://media.derring-do.org/movabls.png"></a><span id="tabs"></span><ul onMouseOver="showOverflow(this.id);" onMouseOut="hideOverflow(this.id);" class="menu" style="z-Index:10000" id="cycleTabsRight"><li id="name" >+</li></ul></div></div></div> \n \n \n \n<!-- main presentation space .  note the iframe src will be the default/base/background document-->\n<div id="window_presentation"><iframe id="doc0" class="activeDoc" src="http://api.derring-do.org///~/launchpad"> \n</iframe></div> \n \n \n \n<script language="JavaScript" type="text/javascript"> \n \n/*\n allows a tab to be created from a #anchor in the url.  for example:\n tabs.html#http://google.com\n will open google.com in a tab on load.\n */\n \nrawlocation= document.location.href;\nif (rawlocation.indexOf("#") > 0){\nlocAr=rawlocation.split("#");\nopenDoc(locAr[1],locAr[1] );\n}\n \n</script> \n</body> \n \n</html> \n'),
(27, 'tabscss', 'text/css', '', 'html{overflow:hidden;  }\n\n* {font-family:sans-serif; font-size:13px; }\n\nbody { font-size:.75em; font-family:sans-serif; background:#dedede; margin:0px; overflow:hidden;}\n\na {text-decoration:none; border:0;}\na img {text-decoration:none; border:0;}\nul {text-indent:0px; padding:0px;  margin:0px; list-style:none;}\nul li{left:0px;text-indent:0px; padding:0px; margin:0px; list-style:none;}\n\n#globalstatus{background:yellow; width:40%;}\n\n\n\n#tab0{background:#363636; color:white; -moz-border-radius:6px;\n-webkit-border-radius:6px;\n margin:5px; width:60px; top:8px; height: 18px; padding-top:7px;}\n\n#tab0.activeTab{background:purple; }\n\n#header{position:absolute; top:0px; left:15px; height:35px; right:18px; z-Index:10000;}\n\n#tray{\nposition:absolute; top:0px; left:0px; height:35px; right:0px;\nz-Index:10032; background:transparent; }\n\n\n\n#tabs{position:absolute; top:15px; left:115px;right:30px; height:30px; overflow:hidden;}\n\n#tabs_bar{position:absolute; top:0px; left:0px; right:18px; display:block; height:30px; width:auto; z-Index:100003;}\n\n.inactiveTab{position:relative; display:block;  \nbackground:gainsboro; color:black; height:30px; width:120px; \npadding-left:20px; line-height:30px; float:left; padding-right:20px; margin-right:3px;\nborder:solid 0px gainsboro; font-weight:normal;\n-moz-border-radius-topright:4px;\n-webkit-border-top-right-radius:4px;\n-moz-border-radius-topleft:4px;\n-webkit-border-top-left-radius:4px;\n}\n.activeTab{position:relative;  float:left; display:block;\n background:white;color:#343434;height:30px; line-height:30px;\n width:auto; padding-left:20px; padding-right:20px; \n font-weight:bold;\n-moz-border-radius-topleft:4px;\n-webkit-border-top-left-radius:4px;\n }\n \n .closeTab{\n position:relative;  float:left; display:block;\n background:white;color:#343434;height:30px; line-height:30px;\n width:120px; padding-left:20px; padding-right:20px; \nmargin-right:3px;\ncolor:gainsboro;\n font-weight:bold;\n-moz-border-radius-topright:4px;\n-webkit-border-top-right-radius:4px;\n }\n \n.inactiveDoc{display:none;}\n.activeDoc{display:block; position:absolute; top:10px; }\n.inactiveCls{display:none;}\n\n#window_presentation{ overflow:auto; display:block; position:absolute; height:auto; width:auto; top:45px; left:15px; right:0px; bottom:15px;  border-right:solid 0px black; padding-top:0px; padding-left:0px; padding-right:0; background:white; z-Index:10;\n-moz-border-radius:4px;\n-webkit-border-radius:4px;\n\n-moz-border-radius-bottomleft:15px;\n-webkit-border-bottom-left-radius:15px;\n }\n#window_presentation iframe{ overflow:auto; height:97%; width:100%; border:0;}\n\n\n.menu_on{background:pink;}\n.list_sel {border:solid 1px gainsboro; background:white; color:#363636; width:100px;}\n\n.topnav{font-weight:bold; font-size:14px; letter-spacing:.5px; color:#363636;}\n\n#actionsList img{margin-right:10px;}\n\n#actionsList {position:absolute; top:17px; left:58px;  \ntext-align:center; font-size:12px; font-weight:normal; \ndisplay:block; height:26px; width:188px; overflow:hidden; line-height:35px; \npadding-bottom:5px; \npadding-top:0px; \n-moz-border-radius:5px;\n-webkit-border-radius:5px;\n-moz-border-radius-topright:5px;\n-webkit-border-top-right-radius:5px;\n-moz-border-radius-topleft:5px;\n-webkit-border-top-left-radius:5px;\n\n\nbackground:white url(http://media.derring-do.org/downarrow.png) no-repeat fixed 230px 28px; \nborder:solid 1px #dedede; z-index:10000;}\n#actionsList li{text-align:left; padding-left:15px; display:block; }\n#actionsList li a:hover{background:gainsboro;color:#363636; display:block; height:100%; width:100%;}\n#actionsList li a{background:white; color:#363636;display:block; height:100%; width:100%;}\n#actionsList li a.first:hover{ background:gainsboro;color:#363636; display:block; height:100%; width:70%; float:left;  }\n#actionsList li a.first{ background:white; color:#363636;display:block; height:100%;  width:70%;float:left; }\n#actionsList li a.sec:hover{ background:gainsboro;color:#363636; display:inline; height:100%; width:28%;  }\n#actionsList li a.sec{ background:white; color:#363636;display:inline; height:100%; width:28%;   }\n\n#actionsList li.blank{text-align:left; padding-left:5px;font-size:12px; color:#838383;line-height:14px; height:14px;}\n\n#cycleTabsRight{position:absolute; top:0px; right:0px; height:30px; width:30px; z-Index:100003; background:gainsboro;\n z-Index:10000; font-style:italic; color:#08A55E;   text-align:center; font-size:12px; font-weight:normal; display:block; overflow:hidden; line-height:35px; background:white; display:none; }\n#cycleTabsRight li{text-align:left;  z-Index:100003; width:150px;background:yellow; }\n#cycleTabsRight li a:hover{background:yellow;color:#363636; z-Index:100003; }\n#cycleTabsRight li a{background:yellow; color:#363636;  z-Index:100003; }\n'),
(28, 'tabsjs', 'application/x-javascript', '', '\n/* \nclone\ncopies a div\ninputs: \n	nodeId = an element ID\n	parentNode = the parent element to attach the new div to\n	newNodeId = an optional element ID to use for the resulting element\n*/\nfunction clone(nodeId,parentNode,newNodeId){\nnewNode=seek(nodeId,1).cloneNode(true);\nnewNode.id=(newNodeId!="")?newNodeId:nodeId+Math.round(Math.random()*1000);\nnewNode.innerHTML=newNode.id;\nseek(parentNode,1).appendChild(newNode); \nreturn newNode.id;\n}\n\n\n\n\n\n/* \nopenDoc\ncreates a tab for a given path\n	path = a URL to load into the destination frame\n	title = a string title to display on the tab\n*/\n\n\nfunction openDoc(path, title){\nnewDocId=Math.round(Math.random()*1000);\nclone(''cont0'',''tabs'',''cont''+newDocId);\nseek(''cont''+newDocId,1).innerHTML="";\n\nclone(''tab0'',''cont''+newDocId,''tab''+newDocId);\nclone(''cls0'',''cont''+newDocId,''cls''+newDocId);\n\nclone(''doc0'',''window_presentation'',''doc''+newDocId);\n\nswitchDoc(newDocId);\nseek(''tab''+newDocId,1).innerHTML=title;\nseek(''cls''+newDocId,1).innerHTML="X";\n\nseek(''doc''+newDocId,1).src=path;\n\nleftTabs=new Array();\nrightTabs=new Array();\nshownTabs=new Array();\nhcnt=0;\nscnt=0;\nlcnt=0;\n\nallInTabs=seek("tabs",1).childNodes;\nallInList=seek("cycleTabsRight",1).childNodes;\nbarWidth=parseInt(seek("tabs",1).offsetWidth);\ncurrWidth=0;\nlisted=0;\nexposed=0;\n\nallInTabsAr=new Array();\nallInListAr=new Array();\nfor(j=0; j<allInTabs.length; j++)allInTabsAr[j]=allInTabs[j];\nfor(j=0; j<allInList.length; j++) if ((allInList[j].id !=undefined)&&(allInList[j].id.substring(0,6) =="l_cont")) allInListAr[j]=allInList[j];\n\n\nalltogether=allInTabsAr.concat(allInListAr);\n\nfor(j=0; j<allInListAr.length; j++){\nif ((allInListAr[j]!=undefined)&&(allInListAr[j].id!=undefined)){\ntabChildren=seek(allInListAr[j].id,1).childNodes;\nfor(r=0; r<tabChildren.length; r++) {\n\ntabChildren[r].parentNode.removeChild(tabChildren[r]);\n\n}\nseek("cycleTabsRight",1).removeChild(allInListAr[j]);\n}\n}\n\n\nfor(j=0; j<alltogether.length; j++){\n		currWidth +=150;\n		if (currWidth+30>=barWidth){\n		listed++;\nnewli=''l_''+alltogether[j].id;\nclone("name",''cycleTabsRight'',newli);\nseek(newli,1).innerHTML="";\n\nseek(newli,1).className="listedCont";\n\ntabChildren=seek(alltogether[j].id,1).childNodes;\nfor(r=0; r<tabChildren.length; r++){\nclone(tabChildren[r].id,newli,''l_''+tabChildren[r].id);\nseek(''l_''+tabChildren[r].id,1).innerHTML=seek(tabChildren[r].id,1).innerHTML;\nseek(''l_''+tabChildren[r].id,1).className="listed";\n\n\n}\n\n		}else{\n		exposed++;\n		}\n}\n\n\n\n}\n\n\n\n/*\nswitchDoc\nmakes a given document active/visible\n	docId= the document to be made active.\n*/\nfunction switchDoc(docID){\nidNum=docID;\n\nif (isNaN(parseInt(idNum) )){\n\nfirst=docID.substr(0,3);\nif ((first=="tab")||(first=="doc")) idNum=parseInt(docID.substr(3));\nif (first=="l_t") idNum=parseInt(docID.substr(5));\n\n}else{\nidNum=parseInt(idNum)\n}\nx=seek("window_presentation",1).childNodes;\nfor (i=0;i<x.length;i++)\n{\ncurrid=parseInt(x[i].id.substr(3));\nseek("tab"+currid, 1).className="inactiveTab";\nseek("cls"+currid, 1).className="inactiveCls";\n\nseek("doc"+currid, 1).className="inactiveDoc";\n\n}\nseek("tab"+idNum, 1).className="activeTab";\nseek("cls"+idNum, 1).className="closeTab";\n\nseek("doc"+idNum, 1).className="activeDoc";\n}\nfunction closeDoc(docID){\nidNum=docID;\n\n\n\nif (isNaN(parseInt(idNum) )){\n\nfirst=docID.substr(0,3);\nif ((first=="tab")||(first=="doc")||(first=="cls")) idNum=parseInt(docID.substr(3));\nif (first=="l_c") idNum=parseInt(docID.substr(5));\n}else{\nidNum=parseInt(idNum)\n}\n\n\nseek("doc"+idNum,1).parentNode.removeChild(seek("doc"+idNum,1));\nseek("tab"+idNum,1).parentNode.removeChild(seek("tab"+idNum,1));\nseek("cls"+idNum,1).parentNode.removeChild(seek("cls"+idNum,1));\nseek("cont"+idNum,1).parentNode.removeChild(seek("cont"+idNum,1));\n\n//seek("l_tab"+idNum,1).parentNode.removeChild(seek("l_tab"+idNum,1));\n//seek("l_cls"+idNum,1).parentNode.removeChild(seek("l_cls"+idNum,1));\n//seek("l_cont"+idNum,1).parentNode.removeChild(seek("l_cont"+idNum,1));\n\n\n\nswitchDoc("doc"+0);\n}\n\n\n/*\nshowOverflow\nused to show the full height of a semi-hidden <ul> (for the drop downs/overflow list) \n*/\n\nfunction showOverflow(id) {\n	seek(id,0).height = ''auto'';\n	if (id=="cycleTabsRight") 	seek(id,0).width = ''150px'';\n	\n}\n\n/*\nhideOverflow\nused to semi-hide a <ul> (for the drop downs/overflow list) \n*/\nfunction hideOverflow(id) {\n	seek(id,0).height = ''26px'';\n	if (id=="cycleTabsRight") 	seek(id,0).width = ''30px'';\n}'),
(29, 'basejs', 'application/x-javascript', '', 'function seek(ele,type){\r\nif (ele=document.getElementById(ele)) return (type) ? ele:ele.style; else return false;}\r\n\r\n\r\nfunction stateChange(a){\r\n	if (xmlhttp.readyState==4){\r\n		 if (xmlhttp.status==200){\r\nresponse=xmlhttp.responseText;\r\nscriptstartpos=response.indexOf("script>");\r\nscriptendpos=response.indexOf("/script>")\r\nloadscript="";\r\nif (scriptendpos>0){\r\nloadscript=response.substring(scriptstartpos+7, scriptendpos-1);\r\n\r\n}\r\n\r\nstylestartpos=response.indexOf("style>");\r\nstyleendpos=response.indexOf("/style>")\r\n\r\nloadstyle="";\r\nif (styleendpos>0){\r\nloadstyle=response.substring(stylestartpos+7, styleendpos-1);\r\n\r\n}\r\n\r\n\r\n var head = document.getElementsByTagName("head")[0];\r\n   if (loadscript !=""){\r\nscript = document.createElement(''script'');\r\n   script.id = ''jstem'';\r\n   script.type = ''text/javascript'';\r\n   script.text= loadscript;\r\n   head.appendChild(script);\r\n}\r\n if (loadstyle !=""){\r\nvar cssStr = ".activeTab{background:green;} .inactiveTab{background:blue;}";\r\nvar style = document.createElement("style");\r\nstyle.setAttribute("type", "text/css");\r\nif(style.styleSheet){// IE\r\nstyle.styleSheet.cssText = loadstyle ;\r\n} else {// w3c\r\nvar cssText = document.createTextNode(loadstyle);\r\nstyle.appendChild(cssText);\r\n}\r\n   head.appendChild(style);\r\n\r\n}	\r\n\r\n\r\nif(responseDiv.substring(0,5)=="form_") seek(responseDiv,1).value=response;	\r\nelse document.getElementById(responseDiv).innerHTML=response;	\r\n\r\n			requestInProgress=0;\r\n		}  else  {\r\n			requestInProgress=2;\r\n	 	} \r\n	 } }\r\n	 \r\n	 \r\n	 \r\n	 \r\n	 \r\nfunction ajaxSubmitForm(pass1,pass2,parentId){\r\nvar d = new Date();\r\nvar t = d.getTime();\r\ntim=t+"";\r\ntimestamp=tim.substr(0,6);\r\n	if (pass1!="update"){\r\n		doRequest("ajaxSubmission/"+pass1+"/"+pass2, pass1+pass2+"Status",pass1+pass2+"Form",parentId)\r\n	}else{\r\n		doRequest("update/"+pass2, "globalstatus",pass1+pass2+"Form",parentId)\r\n	}\r\n}\r\n\r\n\r\nfunction doRequest(pass,destDiv,formId,parentId){\r\nresponseDiv=(destDiv=="")?"focusajax":destDiv;\r\nvar boundaryString = ''AaB03x'';\r\nvar boundary = ''--'' + boundaryString;\r\n\r\nsendStr = [\r\nboundary\r\n].join(''\\r\\n'');\r\n\r\n	\r\nif ((formId!=undefined)&&(formId!="")){\r\n\r\n\r\nif (parentId!="") formChildrenAr=seek(parentId,1).contentWindow.document.getElementById(formId).childNodes;\r\nelse formChildrenAr=seek(formId,1).childNodes;\r\n	strCnt=0;\r\n	for(j=0; j<formChildrenAr.length; j++) {\r\n\r\n		if ((formChildrenAr[j].name!=undefined)&&(formChildrenAr[j].name!="")) {\r\n\r\n			if ((formChildrenAr[j].type =="radio" )&&(formChildrenAr[j].checked ==0)) {\r\n\r\n			}else{\r\n\r\n				strCnt++;\r\n\r\n				sendStr+=''\\r\\n'';\r\n				sendStr+=''Content-Disposition: form-data; name="''+formChildrenAr[j].name+''"'';\r\n				sendStr+=''\\r\\n'';\r\n				sendStr+=''\\r\\n'';\r\n				sendStr+=formChildrenAr[j].value;\r\n				sendStr+=''\\r\\n'';\r\n				sendStr+=boundary;\r\n\r\n			}\r\n		}\r\n	}\r\n}\r\n\r\nif (requestInProgress==1) {\r\n	setTimeout("doRequest(''"+pass+"'',''"+destDiv+"'',''"+formId+"'',''"+id+"'',''"+parentId+"'')", 10);\r\n	return false;\r\n}\r\n	\r\nif (window.XMLHttpRequest) {\r\n\r\n	xmlhttp=new XMLHttpRequest()\r\n	xmlhttp.onreadystatechange=stateChange\r\n	requestInProgress=1;\r\n	xmlhttp.open("POST",pass,true)\r\n	xmlhttp.setRequestHeader(''Content-Type'',''multipart/form-data; boundary='' + boundaryString);\r\n	xmlhttp.setRequestHeader("Content-length", sendStr.length);\r\n	xmlhttp.setRequestHeader("Connection", "close");\r\n	xmlhttp.send(sendStr);\r\n\r\n}else if (window.ActiveXObject) {\r\n	xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")\r\n	if (xmlhttp){\r\n		xmlhttp.onreadystatechange=stateChange\r\n		xmlhttp.open("POST",pass,true)\r\n\r\n		xmlhttp.setRequestHeader(''Content-Type'',''multipart/form-data; boundary='' + boundaryString);\r\n		xmlhttp.setRequestHeader("Content-length", sendStr.length);\r\n		xmlhttp.setRequestHeader("Connection", "close");\r\n\r\n		xmlhttp.send(sendStr);\r\n\r\n	}\r\n}}\r\n'),
(30, 'interfacelist', 'text/html', '["InterfaceLibrary"]', 'interfacelist<br><br>\r\n{{InterfaceLibrary}}'),
(31, 'medialist', 'text/html', '["MediaLibrary"]', 'medialist<br><br>\r\n{{MediaLibrary}}'),
(32, 'functionlist', 'text/html', '["FunctionLibrary"]', 'functionlist<br><br>\r\n{{FunctionLibrary}}'),
(38, 'Set_Function', 'text/plain', '["Set_Function"]', '{{Set_Function}}'),
(39, 'Set_Function', 'text/plain', '["Set_Function"]', ' {{Set_Function}}'),
(40, 'Set_Interface', 'text/plain', '["Set_Interface"]', ' {{Set_Interface}}'),
(41, 'Sitemapper', 'text/html', '["Places", "SiteName"]', '<div id="Sitemap">\n<div id="field">\n<style>\n</style>\n\n<ol>\n{{for Places["PlacesInOrder"] as place_id:parent}}\n	{{if place_id = parent}}\n	<li>{{place_id}}</li>\n	<ol>\n	{{else}}\n	<li>{{place_id}}</li>\n	{{endif}}\n{{endfor}}\n</ol>\n\n</div>\n</div>'),
(42, 'launchpad', 'text/html', '["Sitemapper", "Media","SiteName"]', '<html>\n\n<script src="http://api.derring-do.org///~/base.js"></script> \n\n\n<style>\n\nbody{font-family:sans-serif;font-size:11px;}\na{text-decoration:none; color:purple;}\na:hover{color:#252525;}\nul{display:block; position:static; clear:right;}\nul li {border-top:#eee solid 1px;padding:4px 0 4px; display:block; position:relative; float:left; height:30px; width:auto; margin:12px; margin-right:0px; padding:0px;}\nul li a{display:block;}\nul li a img{float:left;}\nul li a:hover{ background:#eee;}\n.category { border:solid 1px orange; clear:left; padding:0px; }\n#Sitemap{position:absolute; height:auto; width:auto; top:5%; bottom:40%; left:1%; right:3%; border:solid 1px pink;  overflow:auto;}\n\n#unused {display:block; position:absolute; top:5%; right:4%; width:20%; bottom:40%;  border:solid 0px pink;  overflow:auto; }\n\n#unused li {border-top:#eee solid 1px;padding:2px; display:block; position:static; height:50px; width:90%;  margin:0px; margin-top:2px; }\n\n.APISiteLibrary_Pattern{position:absolute; height:auto; width:auto; top:63%; bottom:3%; left:1%; right:3%; border:solid 0px pink;}\n\n.APISiteLibrary_Pattern #media {display:block; position:absolute; top:4%; left:0%; width:50%; height:92%;  border:solid 0px pink;  overflow:auto; }\n\n.APISiteLibrary_Pattern #media a {display:block;  border:solid 1px gainsboro; height:32px; width:100%; overflow:hidden;  padding:3px; }\n\n.APISiteLibrary_Pattern #media a:hover { background:gainsboro; }\n\n\n.APISiteLibrary_Pattern #function{display:block; position:absolute; top:4%; left:53%; width:21%; height:92%; border:solid 0px pink;  overflow:auto; padding-right:10px; }\n\n\n.APISiteLibrary_Pattern #function ul li {border-top:#eee solid 1px;padding:2px; display:block; position:static; height:20px; width:90%;  margin:0px; margin-top:2px; }\n\n.APISiteLibrary_Pattern #interface{display:block; position:absolute; top:4%; left:78%; width:21%; height:92%; border:solid 0px pink;  overflow:auto; padding-right:10px; }\n\n.APISiteLibrary_Pattern #interface ul li {border-top:#eee solid 1px;padding:2px; display:block; position:static; height:20px; width:90%;  margin:0px; margin-top:2px; }\n\n\n#Sitemap ul{position:relative;}\n#Sitemap ul li{position:relative; float:left; display:inline; height:auto; width:auto; padding:10px;}\n#Sitemap ul li a{ background:gainsboro; display:block; height:30px; width:auto; padding:10px;}\n/*\n.parent0{ margin-top:110px; color:red;}\n.parent1{position:relative; margin-top:140px;color:green;}\n.parent2{position:relative; margin-top:170px;color:blue;}\n.parent3{position:relative; margin-top:210px;color:yellow;}\n*/\n\n#Sitemap #field{height:1000px; width:1000px;}\nH3.title {font-size:16px;}\nH3.title a{font-size:11px;}\n</style>\n<body>\n<h3 class="title">{{SiteName}} <a href="javascript:void(0);" onclick="parent.openDoc(''http://{{SiteName}}///~/media/todo'', ''Todo'')" >todo</a> <a href="javascript:void(0);">settings</a></h3>\n\n{{Sitemapper}}\n<br><br>\n{{Media}}\n\n</body>\n</html>'),
(43, 'tree', 'text/html', '', '<!DOCTYPE html PUBliC "-//W3C//DTD HTML 4.01//EN" \r\n"http://www.w3.org/TR/html4/strict.dtd"> \r\n<html> \r\n<head> \r\n<title>family tree using 32 divs </title> \r\n<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">\r\n<style type="text/css"> \r\n<!-- \r\nh1 { \r\nwidth:580px; \r\nfont-family:verdana,arial,helvetica,sans-serif; \r\nfont-size:18px; \r\ntext-align:center; \r\nmargin:40px auto; \r\n} \r\n#container { \r\nwidth:580px; \r\nfont-family:verdana,arial,helvetica,sans-serif; \r\nfont-size:11px; \r\ntext-align:center; \r\nmargin:auto; \r\n} \r\n#container a { \r\ndisplay:block; \r\ncolor:#000; \r\ntext-decoration:none; \r\nbackground-color:#f6f6ff; \r\n} \r\n#container a:hover { \r\ncolor:#900; \r\nbackground-color:#f6f6ff; \r\n} \r\n#no1 { \r\nwidth:190px; \r\nline-height:60px; \r\nborder:1px solid #000; \r\nmargin:auto; \r\n} \r\n#no1 a { \r\nheight:60px; \r\n} \r\n#line1 { \r\nfont-size:0; \r\nwidth:1px; \r\nheight:20px; \r\ncolor:#fff; \r\nbackground-color:#000; \r\nmargin:auto; \r\n} \r\n#line2 { \r\nfont-size:0; \r\nwidth:424px; \r\nheight:1px; \r\ncolor:#fff; \r\nbackground-color:#000; \r\nmargin:auto; \r\n} \r\n#line3 { \r\nfont-size:0; \r\ndisplay:inline; \r\nwidth:1px; \r\nheight:20px; \r\ncolor:#fff; \r\nbackground-color:#000; \r\nmargin-left:78px; \r\nfloat:left; \r\n} \r\n#line4,#line5,#line6 { \r\nfont-size:0; \r\ndisplay:inline; \r\nwidth:1px; \r\nheight:20px; \r\ncolor:#fff; \r\nbackground-color:#000; \r\nmargin-left:140px; \r\nfloat:left; \r\n} \r\n#no2 { \r\ndisplay:inline; \r\nborder:1px solid #000; \r\nclear:both; \r\nmargin-left:35px; \r\nfloat:left; \r\n} \r\n#no2 a,#no4 a,#no8 a { \r\nwidth:84px; \r\nheight:50px; \r\npadding-top:8px; \r\n} \r\n#no3 { \r\ndisplay:inline; \r\nborder:1px solid #000; \r\nmargin-left:58px; \r\nfloat:left; \r\n} \r\n#no3 a,#no5 a,#no6 a,#no7 a,#no9 a { \r\nwidth:84px; \r\nheight:42px; \r\npadding-top:16px; \r\n} \r\n#no4 { \r\ndisplay:inline; \r\nborder:1px solid #000; \r\nmargin-left:53px; \r\nfloat:left; \r\n} \r\n#no5 { \r\ndisplay:inline; \r\nborder:1px solid #000; \r\nmargin-left:55px; \r\nfloat:left; \r\n} \r\n#line7,#line13 { \r\nfont-size:0; \r\ndisplay:inline; \r\nwidth:1px; \r\nheight:38px; \r\ncolor:#fff; \r\nbackground-color:#000; \r\nmargin-left:219px; \r\nfloat:left; \r\n} \r\n#line8,#line14 { \r\nfont-size:0; \r\ndisplay:inline; \r\nwidth:1px; \r\nheight:38px; \r\ncolor:#fff; \r\nbackground-color:#000; \r\nmargin-left:281px; \r\nfloat:left; \r\n} \r\n#no6,#no8 { \r\ndisplay:inline; \r\nborder:1px solid #000; \r\nmargin-left:107px; \r\nfloat:left; \r\n} \r\n#line9,#line11,#line15,#line17 { \r\nfont-size:0; \r\ndisplay:inline; \r\nwidth:26px; \r\nheight:1px; \r\ncolor:#fff; \r\nbackground-color:#000; \r\nmargin-top:29px; \r\nfloat:left; \r\n} \r\n#line10,#line12,#line16,#line18 { \r\nfont-size:0; \r\ndisplay:inline; \r\nwidth:1px; \r\nheight:60px; \r\ncolor:#fff; \r\nbackground-color:#000; \r\nfloat:left; \r\n} \r\n#line16,#line18 { \r\nheight:30px; \r\n} \r\n#no7,#no9 { \r\ndisplay:inline; \r\nborder:1px solid #000; \r\nmargin-left:169px; \r\nfloat:left; \r\n} \r\n.clear { \r\nclear:both; \r\n} \r\n--> \r\n</style>\r\n\r\n</head> \r\n<body>\r\n\r\n<h1>A simple family tree using 32 divs</h1>\r\n\r\n<div id="container">\r\n\r\n<div id="no1"><a href="">Managing Director</a></div> \r\n<div id="line1"></div> \r\n<div id="line2"></div> \r\n<div id="line3"></div> \r\n<div id="line4"></div> \r\n<div id="line5"></div> \r\n<div id="line6"></div> \r\n<div id="no2"><a href="#">Sales &amp; Marketing Director</a></div> \r\n<div id="no3"><a href="#">Production Director</a></div> \r\n<div id="no4"><a href="#">Human Resources Director</a></div> \r\n<div id="no5"><a href="#">Finance Director</a></div> \r\n<div id="line7"></div> \r\n<div id="line8"></div> \r\n<div class="clear"></div> \r\n<div id="no6"><a href="#">Factory Manager</a></div> \r\n<div id="line9"></div> \r\n<div id="line10"></div> \r\n<div id="no7"><a href="#">Management Accountant</a></div> \r\n<div id="line11"></div> \r\n<div id="line12"></div> \r\n<div class="clear"></div> \r\n<div id="line13"></div> \r\n<div id="line14"></div> \r\n<div class="clear"></div> \r\n<div id="no8"><a href="#">Quality Control Manager</a></div> \r\n<div id="line15"></div> \r\n<div id="line16"></div> \r\n<div id="no9"><a href="#">Financial Accountant</a></div> \r\n<div id="line17"></div> \r\n<div id="line18"></div> \r\n<div class="clear"></div>\r\n\r\n</div>\r\n\r\n</body> \r\n</html>'),
(44, 'todo', 'text/plain', '', 'todo:\n\n[in progress]api\n[in progress]ide\n[]globals\n[]deployments');

-- --------------------------------------------------------

--
-- Table structure for table `mvs_meta`
--

CREATE TABLE IF NOT EXISTS `mvs_meta` (
  `meta_id` int(11) NOT NULL auto_increment,
  `movabl_GUID` varchar(42) collate utf8_unicode_ci NOT NULL,
  `movabl_type` text collate utf8_unicode_ci NOT NULL,
  `name` text collate utf8_unicode_ci NOT NULL,
  `content` longtext collate utf8_unicode_ci NOT NULL,
  PRIMARY KEY  (`meta_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci AUTO_INCREMENT=97 ;

--
-- Dumping data for table `mvs_meta`
--

INSERT INTO `mvs_meta` (`meta_id`, `movabl_GUID`, `movabl_type`, `name`, `content`) VALUES
(2, 'myblogapp', 'app', 'label', 'My Blog App'),
(3, 'myblogapp', 'app', 'icon', 'some.png'),
(7, 'movabl_api', 'app', 'label', 'Movabls API'),
(75, 'movabls', 'app', 'label', 'Movabls'),
(38, 'place', 'media', 'label', 'Place Details'),
(39, 'Slash404', 'media', 'label', 'Page Not Found'),
(40, 'api', 'media', 'label', 'API Arrays'),
(41, 'media', 'media', 'label', 'Media Details'),
(42, 'function', 'media', 'label', 'Function Details'),
(43, 'interface', 'media', 'label', 'Interface Details'),
(44, 'patterns', 'media', 'label', 'Pattern Example Container'),
(47, 'APIApps_Pattern', 'media', 'label', 'App List Pattern'),
(48, 'APIPlaces_Pattern', 'media', 'label', 'Places Table Pattern'),
(49, 'APISiteLibrary_Pattern', 'media', 'label', 'Site Library Pattern'),
(50, 'tabs', 'media', 'label', 'Main Tabs Shell'),
(51, 'tabscss', 'media', 'label', 'Main Tabs CSS'),
(52, 'tabsjs', 'media', 'label', 'Tabs JS'),
(53, 'basejs', 'media', 'label', 'Base JS'),
(66, 'place', 'interface', 'label', 'place'),
(67, 'api', 'interface', 'label', 'API Interface'),
(68, 'interface', 'interface', 'label', 'interface'),
(69, 'function', 'interface', 'label', 'function'),
(70, 'media', 'interface', 'label', 'media'),
(71, 'patterns', 'interface', 'label', 'patterns'),
(79, 'Sitemapper', 'media', 'label', 'Sitemapper'),
(80, 'launchpad', 'media', 'label', 'launchpad'),
(81, 'tree', 'media', 'label', 'tree'),
(82, 'SitemapGenerator', 'function', 'label', 'Sitemap Generator'),
(83, 'launchpad', 'interface', 'label', 'launchpad interface'),
(84, 'media', 'place', 'label', 'Movabls Media Editor'),
(85, 'media', 'place', 'parent', 'movabls'),
(86, 'movabls', 'place', 'label', 'Movabls'),
(87, 'movabls', 'place', 'parent', 'root'),
(88, 'root', 'place', 'label', 'Your Home Page'),
(89, 'root', 'place', 'parent', 'root'),
(90, 'function', 'place', 'label', 'function editor'),
(91, 'function', 'place', 'parent', 'movabls'),
(92, 'interface', 'place', 'label', 'function editor'),
(93, 'interface', 'place', 'parent', 'movabls'),
(94, 'api', 'place', 'parent', 'root'),
(95, 'patterns', 'place', 'parent', 'api'),
(96, 'percent', 'place', 'parent', 'api');

-- --------------------------------------------------------

--
-- Table structure for table `mvs_places`
--

CREATE TABLE IF NOT EXISTS `mvs_places` (
  `place_id` int(11) NOT NULL auto_increment,
  `app_GUID` varchar(42) NOT NULL,
  `place_GUID` varchar(512) character set utf8 collate utf8_unicode_ci NOT NULL,
  `url` varchar(512) character set utf8 collate utf8_unicode_ci NOT NULL,
  `https` tinyint(1) NOT NULL,
  `media_GUID` varchar(512) character set utf8 collate utf8_unicode_ci NOT NULL,
  `interface_GUID` varchar(512) character set utf8 collate utf8_unicode_ci default NULL,
  PRIMARY KEY  (`place_id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC AUTO_INCREMENT=33 ;

--
-- Dumping data for table `mvs_places`
--

INSERT INTO `mvs_places` (`place_id`, `app_GUID`, `place_GUID`, `url`, `https`, `media_GUID`, `interface_GUID`) VALUES
(2, 'myblogapp', 'root', '/', 0, 'TEST_MEDIA', 'TEST_INT'),
(6, 'myblogapp', 'JS', '/~/JS/%', 0, 'JSLOOKUP', 'JSLOOKUP'),
(7, 'myblogapp', 'CSS', '/~/CSS/%', 0, 'CSSLOOKUP', 'CSSLOOKUP'),
(12, 'movabl_api', 'place', '///~/Place/%', 0, 'place', 'place'),
(13, 'movabls', 'Slash404', '///%', 0, 'Slash404', NULL),
(14, 'movabl_api', 'api', '/api', 0, 'api', 'api'),
(15, 'movabl_api', 'patterns', '/api/patterns', 0, 'patterns', 'patterns'),
(16, 'movabl_api', 'media', '///~/Media/%', 0, 'media', 'media'),
(17, 'movabl_api', 'function', '///~/Function/%', 0, 'function', 'function'),
(18, 'movabl_api', 'interface', '///~/Interface/%', 0, 'interface', 'interface'),
(19, 'movabls', 'tabscss', '///~/tabs.css', 0, 'tabscss', NULL),
(20, 'movabls', 'tabsjs', '///~/tabs.js', 0, 'tabsjs', NULL),
(21, 'movabls', 'basejs', '///~/base.js', 0, 'basejs', NULL),
(25, 'movabls', 'movabls', '///', 0, 'tabs', NULL),
(26, 'movabl_api', 'app', '///~/App/%', 0, 'app', 'site'),
(27, 'movabl_api', 'Set_Media', '///~/Set/Media/%', 0, 'Set_Media', 'Set_Media'),
(28, 'movabl_api', 'Set_Function', '///~/Set/Function/%', 0, 'Set_Function', 'Set_Function'),
(29, 'movabl_api', 'Set_Interface', '///~/Set/Interface/%', 0, 'Set_Interface', 'Set_Interface'),
(30, 'movabls', 'launchpad', '///~/launchpad', 0, 'launchpad', 'launchpad'),
(31, 'movabls', 'tree', '/tree', 0, 'tree', NULL),
(32, 'movabls', 'sitemapper', '/sitemapper', 0, 'Sitemapper', 'launchpad');
